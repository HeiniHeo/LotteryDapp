Lottery.deployed().then(function(instance){lt=instance})

Lottery 규칙
블럭해쉬를 맞추는 게임

1. +3 블록해쉬의 첫 번째 두글자 맞추기
- 유저가 던진 트렉젝션이 들어가는 블록 +3 블록해쉬와 값을 비교
- 결과는 +3+1 이상의 블럭부터 확인이 가능하다.

2. 팟 머니
- 결과가 나올때만 유저가 보낸돈을 팟 머니에 쌓음
- 여러명이 같이 맞추면 제일 처음 맞춘 사람에게만
- 두 글자중에 하나만 맞췄을때는 보낸 돈 만큼만 돌려준다
- 결과값을 검증하지 못할 때는 보낸 돈 만큼만 돌려준다 

====================================

1. 배팅하는 사람의 블럭주소
2. +3 블록의 해쉬 앞 두글자


blockhash(uint blockNumber) // 나를 제외한 최근 256개의 블럭만 확인가능하다.


ethereum 수수료
수수료 = gas(21,000) * gasPrice(1gwei == 10**9wei) = 0.000021ETH
1ETH = 10 ** 18 wei
- gasLimit
- gasPrice
- ETH

gasLimit로 좀 넉넉히 가스를 주고 
gas Used by Transaction(실사용된 가스)를 제외한 나머지 가스는 유저에게 다시 되돌려준다.

저장데이터를 들리는 연산이 gas가 가장 비싸다.
그래서 gaslimit가 정해져있는 smart contract는 데이터를 무한정 저장할 수 없다.

- 32btyes 새로 저장 == 20000gas
- 32bytes 기존 값 변환 == 5000
- 기존 변수를 삭제하면 10000gas를 돌려받는다.


bet   function
첫번째 트렌젝션 89245
두번째 트렌젝션 74245
세번째 트렌젝션 74245

트렌젝션에서 기본으로 사용되는 gas = 21000
더하기 데이터 가스 60000gas = 81000gas

event값을 출력할때 375gas
parameter하나당 375gas
값이 저장될때 바이트당 8gas
== 4~5000gas


================================================

distribute 함수 로직

head와 tail이 있고
tail 뒤로 블럭이 들어온다

예) head 3 4 5 6 7 8 tail
위와 같은 경우에서 tail 쪽으로 쭉 쌓인다.
1. head 부터 tail까지의 블럭를 도는 루프를 만들어서 정답을 확인하고 정답이 맞다면 돈을 주고 틀리다면 potmoney에 넣어주는 작업을 해야한다
2. 만약 정답 블록이 아직 생성되지 않았다면(msg.sender + 3의 주소)그때 루프를 멈춰야한다.
3. 또한 256개 이상의 블록이 쌓였을때에는 게임이 취소되고 모두에게 돈을 돌려준다.

```javascript
const color;
```